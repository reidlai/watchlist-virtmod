import{l as V,p as G,i as oe,f as S,a as l,b as Ce,d as $e,s as Q,c as $,t as C}from"./legacy-B4DUf3ow.js";import{n as Xe,k as z,o as Ye,v as Oe,w as Ze,x as Me,y as je,z as Ve,A as et,B as We,C as tt,E as st,D as at,F as rt,G as Le,H as U,I as Be,J as Ue,K as He,L as lt,M as ot,N as nt,q as it,O as Ge,P as dt,p as te,u as ne,f as F,h as R,d as se,i as X,t as Y,j as I,Q as ft,m as ct,R as ut}from"./runtime-BFaUp9fJ.js";import{a as ie,c as O,s as de}from"./utils-DkOHMcqz.js";function vt(t,e,r){for(var c=[],i=e.length,a,o=e.length,u=0;u<i;u++){let L=e[u];Ue(L,()=>{if(a){if(a.pending.delete(L),a.done.add(L),a.pending.size===0){var m=t.outrogroups;De(Ve(a.done)),m.delete(a),m.size===0&&(t.outrogroups=null)}}else o-=1},!1)}if(o===0){var n=c.length===0&&r!==null;if(n){var h=r,d=h.parentNode;ot(d),d.append(h),t.items.clear()}De(e,!n)}else a={pending:new Set(e),done:new Set},(t.outrogroups??(t.outrogroups=new Set)).add(a)}function De(t,e=!0){for(var r=0;r<t.length;r++)nt(t[r],e)}var qe;function pt(t,e,r,c,i,a=null){var o=t,u=new Map,n=(e&Ge)!==0;if(n){var h=t;o=h.appendChild(Le())}var d=null,L=Ye(()=>{var f=r();return et(f)?f:f==null?[]:Ve(f)}),m,p=!0;function A(){s.fallback=d,_t(s,m,o,e,c),d!==null&&(m.length===0?(d.f&U)===0?Be(d):(d.f^=U,ge(d,null,o)):Ue(d,()=>{d=null}))}var W=Xe(()=>{m=z(L);for(var f=m.length,k=new Set,P=Ze,T=je(),H=0;H<f;H+=1){var q=m[H],g=c(q,H),b=p?null:u.get(g);b?(b.v&&Oe(b.v,q),b.i&&Oe(b.i,H),T&&P.skipped_effects.delete(b.e)):(b=mt(u,p?o:qe??(qe=Le()),q,g,H,i,e,r),p||(b.e.f|=U),u.set(g,b)),k.add(g)}if(f===0&&a&&!d&&(p?d=Me(()=>a(o)):(d=Me(()=>a(qe??(qe=Le()))),d.f|=U)),!p)if(T){for(const[fe,ae]of u)k.has(fe)||P.skipped_effects.add(ae.e);P.oncommit(A),P.ondiscard(()=>{})}else A();z(L)}),s={effect:W,items:u,outrogroups:null,fallback:d};p=!1}function _t(t,e,r,c,i){var ae,be,xe,Se,ce,ue,ye,re,le;var a=(c&dt)!==0,o=e.length,u=t.items,n=t.effect.first,h,d=null,L,m=[],p=[],A,W,s,f;if(a)for(f=0;f<o;f+=1)A=e[f],W=i(A,f),s=u.get(W).e,(s.f&U)===0&&((be=(ae=s.nodes)==null?void 0:ae.a)==null||be.measure(),(L??(L=new Set)).add(s));for(f=0;f<o;f+=1){if(A=e[f],W=i(A,f),s=u.get(W).e,t.outrogroups!==null)for(const M of t.outrogroups)M.pending.delete(s),M.done.delete(s);if((s.f&U)!==0)if(s.f^=U,s===n)ge(s,null,r);else{var k=d?d.next:n;s===t.effect.last&&(t.effect.last=s.prev),s.prev&&(s.prev.next=s.next),s.next&&(s.next.prev=s.prev),Z(t,d,s),Z(t,s,k),ge(s,k,r),d=s,m=[],p=[],n=d.next;continue}if((s.f&He)!==0&&(Be(s),a&&((Se=(xe=s.nodes)==null?void 0:xe.a)==null||Se.unfix(),(L??(L=new Set)).delete(s))),s!==n){if(h!==void 0&&h.has(s)){if(m.length<p.length){var P=p[0],T;d=P.prev;var H=m[0],q=m[m.length-1];for(T=0;T<m.length;T+=1)ge(m[T],P,r);for(T=0;T<p.length;T+=1)h.delete(p[T]);Z(t,H.prev,q.next),Z(t,d,H),Z(t,q,P),n=P,d=q,f-=1,m=[],p=[]}else h.delete(s),ge(s,n,r),Z(t,s.prev,s.next),Z(t,s,d===null?t.effect.first:d.next),Z(t,d,s),d=s;continue}for(m=[],p=[];n!==null&&n!==s;)(h??(h=new Set)).add(n),p.push(n),n=n.next;if(n===null)continue}(s.f&U)===0&&m.push(s),d=s,n=s.next}if(t.outrogroups!==null){for(const M of t.outrogroups)M.pending.size===0&&(De(Ve(M.done)),(ce=t.outrogroups)==null||ce.delete(M));t.outrogroups.size===0&&(t.outrogroups=null)}if(n!==null||h!==void 0){var g=[];if(h!==void 0)for(s of h)(s.f&He)===0&&g.push(s);for(;n!==null;)(n.f&He)===0&&n!==t.fallback&&g.push(n),n=n.next;var b=g.length;if(b>0){var fe=(c&Ge)!==0&&o===0?r:null;if(a){for(f=0;f<b;f+=1)(ye=(ue=g[f].nodes)==null?void 0:ue.a)==null||ye.measure();for(f=0;f<b;f+=1)(le=(re=g[f].nodes)==null?void 0:re.a)==null||le.fix()}vt(t,g,fe)}}a&&it(()=>{var M,we;if(L!==void 0)for(s of L)(we=(M=s.nodes)==null?void 0:M.a)==null||we.apply()})}function mt(t,e,r,c,i,a,o,u){var n=(o&at)!==0?(o&rt)===0?tt(r,!1,!1):We(r):null,h=(o&st)!==0?We(i):null;return{v:n,i:h,e:Me(()=>(a(e,n??r,h??i,u),()=>{t.delete(c)}))}}function ge(t,e,r){if(t.nodes)for(var c=t.nodes.start,i=t.nodes.end,a=e&&(e.f&U)===0?e.nodes.start:r;c!==null;){var o=lt(c);if(a.before(c),c===i)return;c=o}}function Z(t,e,r){e===null?t.effect.first=r:e.next=r,r===null?t.effect.last=e:r.prev=e}var ht=S('<div class="relative w-full overflow-auto"><table><!></table></div>');function Je(t,e){const r=V(e,["children","$$slots","$$events","$$legacy"]),c=V(r,["class"]);te(e,!1);let i=G(e,"class",8,void 0);oe();var a=ht(),o=R(a);ie(o,n=>({class:n,...c}),[()=>(F(O),F(i()),ne(()=>O("w-full caption-bottom text-sm",i())))]);var u=R(o);de(u,e,"default",{}),l(t,a),se()}Je.__docgen={version:3,name:"table.svelte",data:[],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[{keywords:[],visibility:"public",description:"",name:"default"}],refs:[]};var $t=S("<tbody><!></tbody>");function Ke(t,e){const r=V(e,["children","$$slots","$$events","$$legacy"]),c=V(r,["class"]);te(e,!1);let i=G(e,"class",8,void 0);oe();var a=$t();ie(a,u=>({class:u,...c}),[()=>(F(O),F(i()),ne(()=>O("[&_tr:last-child]:border-0",i())))]);var o=R(a);de(o,e,"default",{}),l(t,a),se()}Ke.__docgen={version:3,name:"table-body.svelte",data:[],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[{keywords:[],visibility:"public",description:"",name:"default"}],refs:[]};var gt=S("<td><!></td>");function j(t,e){const r=V(e,["children","$$slots","$$events","$$legacy"]),c=V(r,["class"]);te(e,!1);let i=G(e,"class",8,void 0);oe();var a=gt();ie(a,u=>({class:u,...c}),[()=>(F(O),F(i()),ne(()=>O("p-4 align-middle [&:has([role=checkbox])]:pr-0",i())))]);var o=R(a);de(o,e,"default",{}),l(t,a),se()}j.__docgen={version:3,name:"table-cell.svelte",data:[],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[{keywords:[],visibility:"public",description:"",name:"default"}],refs:[]};var bt=S("<th><!></th>");function ee(t,e){const r=V(e,["children","$$slots","$$events","$$legacy"]),c=V(r,["class"]);te(e,!1);let i=G(e,"class",8,void 0);oe();var a=bt();ie(a,u=>({class:u,...c}),[()=>(F(O),F(i()),ne(()=>O("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",i())))]);var o=R(a);de(o,e,"default",{}),l(t,a),se()}ee.__docgen={version:3,name:"table-head.svelte",data:[],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[{keywords:[],visibility:"public",description:"",name:"default"}],refs:[]};var xt=S("<thead><!></thead>");function Qe(t,e){const r=V(e,["children","$$slots","$$events","$$legacy"]),c=V(r,["class"]);te(e,!1);let i=G(e,"class",8,void 0);oe();var a=xt();ie(a,u=>({class:u,...c}),[()=>(F(O),F(i()),ne(()=>O("[&_tr]:border-b",i())))]);var o=R(a);de(o,e,"default",{}),l(t,a),se()}Qe.__docgen={version:3,name:"table-header.svelte",data:[],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[{keywords:[],visibility:"public",description:"",name:"default"}],refs:[]};var yt=S("<tr><!></tr>");function Re(t,e){const r=V(e,["children","$$slots","$$events","$$legacy"]),c=V(r,["class"]);te(e,!1);let i=G(e,"class",8,void 0);oe();var a=yt();ie(a,u=>({class:u,...c}),[()=>(F(O),F(i()),ne(()=>O("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",i())))]);var o=R(a);de(o,e,"default",{}),l(t,a),se()}Re.__docgen={version:3,name:"table-row.svelte",data:[],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[{keywords:[],visibility:"public",description:"",name:"default"}],refs:[]};var wt=S('<div class="flex h-64 items-center justify-center text-muted-foreground p-8"><span class="animate-pulse">Loading watchlist data...</span></div>'),kt=S('<div class="flex h-64 items-center justify-center text-destructive p-8"><span class="font-medium"> </span></div>'),Pt=S('<div class="flex h-64 flex-col items-center justify-center text-center p-8"><h3 class="text-lg font-semibold">No tickers tracked</h3> <p class="text-sm text-muted-foreground">No tickers tracked in your watchlist.</p></div>'),Tt=S('<button class="flex items-center gap-2 font-bold w-full h-full text-left">Symbol <span class="text-xs" aria-hidden="true"><!></span></button>'),Et=S("<!> <!> <!> <!> <!> <!> <!>",1),Nt=S("<!> <!> <!> <!> <!> <!> <!>",1),Ct=S("<!> <!>",1),St=S('<div class="w-full overflow-x-auto"><!></div>'),At=S('<div class="relative w-full rounded-md border" style="max-height: 70vh; overflow-y: auto;"><!></div>');function It(t,e){te(e,!0);let r=G(e,"tickers",19,()=>[]),c=G(e,"loading",3,!1),i=G(e,"error",3,null),a=ft("asc"),o=ct(()=>[...r()].sort((p,A)=>{var f,k;const W=((f=p.symbol)==null?void 0:f.toLowerCase())||"",s=((k=A.symbol)==null?void 0:k.toLowerCase())||"";return W<s?z(a)==="asc"?-1:1:W>s?z(a)==="asc"?1:-1:0}));function u(){ut(a,z(a)==="asc"?"desc":"asc",!0)}function n(p){return p?new Date(p).toLocaleTimeString():"-"}var h=At(),d=R(h);{var L=p=>{var A=wt();l(p,A)},m=p=>{var A=$e(),W=X(A);{var s=k=>{var P=kt(),T=R(P),H=R(T);Y(()=>Q(H,`Error: ${i()??""}`)),l(k,P)},f=k=>{var P=$e(),T=X(P);{var H=g=>{var b=Pt();l(g,b)},q=g=>{var b=St(),fe=R(b);$(fe,()=>Je,(ae,be)=>{be(ae,{children:(xe,Se)=>{var ce=Ct(),ue=X(ce);$(ue,()=>Qe,(re,le)=>{le(re,{children:(M,we)=>{var ve=$e(),Ae=X(ve);$(Ae,()=>Re,(pe,B)=>{B(pe,{children:(ke,Fe)=>{var Pe=Et(),Te=X(Pe);$(Te,()=>ee,(x,y)=>{y(x,{class:"h-11 min-h-[44px] cursor-pointer hover:bg-muted/50",onclick:u,children:(w,J)=>{var v=Tt(),E=I(R(v)),N=R(E);{var K=D=>{var ze=C("▲");l(D,ze)},_=D=>{var ze=C("▼");l(D,ze)};Ce(N,D=>{z(a)==="asc"?D(K):D(_,!1)})}l(w,v)},$$slots:{default:!0}})});var Ee=I(Te,2);$(Ee,()=>ee,(x,y)=>{y(x,{children:(w,J)=>{var v=C("Last");l(w,v)},$$slots:{default:!0}})});var Ie=I(Ee,2);$(Ie,()=>ee,(x,y)=>{y(x,{children:(w,J)=>{var v=C("Open");l(w,v)},$$slots:{default:!0}})});var _e=I(Ie,2);$(_e,()=>ee,(x,y)=>{y(x,{children:(w,J)=>{var v=C("High");l(w,v)},$$slots:{default:!0}})});var me=I(_e,2);$(me,()=>ee,(x,y)=>{y(x,{children:(w,J)=>{var v=C("Low");l(w,v)},$$slots:{default:!0}})});var he=I(me,2);$(he,()=>ee,(x,y)=>{y(x,{children:(w,J)=>{var v=C("Volume");l(w,v)},$$slots:{default:!0}})});var Ne=I(he,2);$(Ne,()=>ee,(x,y)=>{y(x,{class:"text-right",children:(w,J)=>{var v=C("Updated");l(w,v)},$$slots:{default:!0}})}),l(ke,Pe)},$$slots:{default:!0}})}),l(M,ve)},$$slots:{default:!0}})});var ye=I(ue,2);$(ye,()=>Ke,(re,le)=>{le(re,{children:(M,we)=>{var ve=$e(),Ae=X(ve);pt(Ae,17,()=>z(o),pe=>pe.symbol,(pe,B)=>{var ke=$e(),Fe=X(ke);$(Fe,()=>Re,(Pe,Te)=>{Te(Pe,{children:(Ee,Ie)=>{var _e=Nt(),me=X(_e);$(me,()=>j,(v,E)=>{E(v,{class:"font-medium",children:(N,K)=>{var _=C();Y(()=>Q(_,z(B).symbol)),l(N,_)},$$slots:{default:!0}})});var he=I(me,2);$(he,()=>j,(v,E)=>{E(v,{children:(N,K)=>{var _=C();Y(()=>Q(_,z(B).last)),l(N,_)},$$slots:{default:!0}})});var Ne=I(he,2);$(Ne,()=>j,(v,E)=>{E(v,{children:(N,K)=>{var _=C();Y(()=>Q(_,z(B).open)),l(N,_)},$$slots:{default:!0}})});var x=I(Ne,2);$(x,()=>j,(v,E)=>{E(v,{children:(N,K)=>{var _=C();Y(()=>Q(_,z(B).high)),l(N,_)},$$slots:{default:!0}})});var y=I(x,2);$(y,()=>j,(v,E)=>{E(v,{children:(N,K)=>{var _=C();Y(()=>Q(_,z(B).low)),l(N,_)},$$slots:{default:!0}})});var w=I(y,2);$(w,()=>j,(v,E)=>{E(v,{children:(N,K)=>{var _=C();Y(D=>Q(_,D),[()=>{var D;return(D=z(B).volume)==null?void 0:D.toLocaleString()}]),l(N,_)},$$slots:{default:!0}})});var J=I(w,2);$(J,()=>j,(v,E)=>{E(v,{class:"text-right text-muted-foreground",children:(N,K)=>{var _=C();Y(D=>Q(_,D),[()=>n(z(B).last_updated_at)]),l(N,_)},$$slots:{default:!0}})}),l(Ee,_e)},$$slots:{default:!0}})}),l(pe,ke)}),l(M,ve)},$$slots:{default:!0}})}),l(xe,ce)},$$slots:{default:!0}})}),l(g,b)};Ce(T,g=>{r().length===0?g(H):g(q,!1)},!0)}l(k,P)};Ce(W,k=>{i()?k(s):k(f,!1)},!0)}l(p,A)};Ce(d,p=>{c()?p(L):p(m,!1)})}l(t,h),se()}It.__docgen={data:[{name:"tickers",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"array",text:"ITicker[]"},static:!1,readonly:!1,defaultValue:"[]"},{name:"loading",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"error",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:"null"}],name:"WatchlistTickerTableWidget.svelte"};export{It as W,pt as e};
