$schema: 'https://moonrepo.dev/schemas/project.json'
id: 'watchlist-ts'
type: 'library'
stack: 'frontend'

tasks:
  build:
    outputs: []
    options:
      mergeOutputs: 'replace'

  lint:
    command: 'eslint .'
    inputs: ["**/*", "!node_modules/**"]
    options:
      mergeArgs: 'replace'
      mergeInputs: 'replace'

  test:
    command: 'vitest run'

  format:
    command: 'prettier --write .'
    inputs: ["**/*", "!node_modules/**"]

  zodios-gen:
    command: 'npx openapi-zod-client "../go/gen/http/openapi3.json" -o "./src/lib/api-client.ts"'
    deps:
      - 'build'