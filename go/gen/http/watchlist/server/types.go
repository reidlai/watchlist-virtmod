// Code generated by goa v3.23.4, DO NOT EDIT.
//
// watchlist HTTP server types
//
// Command:
// $ goa gen github.com/reidlai/ta-workspace/modules/watchlist/go/design

package server

import (
	watchlist "github.com/reidlai/ta-workspace/modules/watchlist/go/gen/watchlist"
	goa "goa.design/goa/v3/pkg"
)

// AddRequestBody is the type of the "watchlist" service "add" endpoint HTTP
// request body.
type AddRequestBody struct {
	Symbol *string `form:"symbol,omitempty" json:"symbol,omitempty" xml:"symbol,omitempty"`
	OnHand *bool   `form:"on_hand,omitempty" json:"on_hand,omitempty" xml:"on_hand,omitempty"`
}

// ListResponseBody is the type of the "watchlist" service "list" endpoint HTTP
// response body.
type ListResponseBody []*TickerItemResponse

// AddResponseBody is the type of the "watchlist" service "add" endpoint HTTP
// response body.
type AddResponseBody struct {
	// Stock Symbol
	Symbol string `form:"symbol" json:"symbol" xml:"symbol"`
	// Whether user holds the stock
	OnHand bool `form:"on_hand" json:"on_hand" xml:"on_hand"`
	// Creation timestamp
	CreatedAt *string `form:"created_at,omitempty" json:"created_at,omitempty" xml:"created_at,omitempty"`
}

// TickerItemResponse is used to define fields on response body types.
type TickerItemResponse struct {
	// Stock Symbol
	Symbol string `form:"symbol" json:"symbol" xml:"symbol"`
	// Whether user holds the stock
	OnHand bool `form:"on_hand" json:"on_hand" xml:"on_hand"`
	// Creation timestamp
	CreatedAt *string `form:"created_at,omitempty" json:"created_at,omitempty" xml:"created_at,omitempty"`
}

// NewListResponseBody builds the HTTP response body from the result of the
// "list" endpoint of the "watchlist" service.
func NewListResponseBody(res []*watchlist.TickerItem) ListResponseBody {
	body := make([]*TickerItemResponse, len(res))
	for i, val := range res {
		if val == nil {
			body[i] = nil
			continue
		}
		body[i] = marshalWatchlistTickerItemToTickerItemResponse(val)
	}
	return body
}

// NewAddResponseBody builds the HTTP response body from the result of the
// "add" endpoint of the "watchlist" service.
func NewAddResponseBody(res *watchlist.TickerItem) *AddResponseBody {
	body := &AddResponseBody{
		Symbol:    res.Symbol,
		OnHand:    res.OnHand,
		CreatedAt: res.CreatedAt,
	}
	return body
}

// NewListPayload builds a watchlist service list endpoint payload.
func NewListPayload(userID string) *watchlist.ListPayload {
	v := &watchlist.ListPayload{}
	v.UserID = userID

	return v
}

// NewAddPayload builds a watchlist service add endpoint payload.
func NewAddPayload(body *AddRequestBody, userID string) *watchlist.AddPayload {
	v := &watchlist.AddPayload{
		Symbol: *body.Symbol,
		OnHand: *body.OnHand,
	}
	v.UserID = userID

	return v
}

// NewRemovePayload builds a watchlist service remove endpoint payload.
func NewRemovePayload(symbol string, userID string) *watchlist.RemovePayload {
	v := &watchlist.RemovePayload{}
	v.Symbol = symbol
	v.UserID = userID

	return v
}

// ValidateAddRequestBody runs the validations defined on AddRequestBody
func ValidateAddRequestBody(body *AddRequestBody) (err error) {
	if body.Symbol == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("symbol", "body"))
	}
	if body.OnHand == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("on_hand", "body"))
	}
	return
}
